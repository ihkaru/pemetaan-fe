import{u as z,a as F,Q as y}from"./QInput.a6f20e48.js";import{a as U,h as G,b as M,u as N,Q as D}from"./QIcon.b1b3bd66.js";import{a as K,u as H}from"./use-dark.89ced53c.js";import{a as k,l as a,q as f,t as J,F as g,v as w,m as W,h as X,c as Y,i as c,k as Z,G as ee,j as te,H as S}from"./index.856d33eb.js";import{Q as C}from"./QBtn.f7984ae2.js";import{Q as le}from"./QCard.a901d3b0.js";import{api as oe}from"./axios.3f0a284a.js";import"./index.esm.88ba6faa.js";import{u as ae}from"./user-store.ac898c93.js";import"./QSpinner.e4dc0084.js";import"./use-router-link.9cd7e472.js";function ne(l,d){const e=k(null),u=a(()=>l.disable===!0?null:f("span",{ref:e,class:"no-outline",tabindex:-1}));function s(n){const r=d.value;n!==void 0&&n.type.indexOf("key")===0?r!==null&&document.activeElement!==r&&r.contains(document.activeElement)===!0&&r.focus():e.value!==null&&(n===void 0||r!==null&&r.contains(n.target)===!0)&&e.value.focus()}return{refocusTargetEl:u,refocusTarget:s}}var re={xs:30,sm:35,md:40,lg:50,xl:60};const ue={...H,...N,...z,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:l=>l==="tf"||l==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},se=["update:modelValue"];function ie(l,d){const{props:e,slots:u,emit:s,proxy:n}=J(),{$q:r}=n,p=K(e,r),o=k(null),{refocusTargetEl:h,refocusTarget:m}=ne(e,o),B=U(e,re),b=a(()=>e.val!==void 0&&Array.isArray(e.modelValue)),_=a(()=>{const t=g(e.val);return b.value===!0?e.modelValue.findIndex(v=>g(v)===t):-1}),i=a(()=>b.value===!0?_.value>-1:g(e.modelValue)===g(e.trueValue)),V=a(()=>b.value===!0?_.value===-1:g(e.modelValue)===g(e.falseValue)),I=a(()=>i.value===!1&&V.value===!1),P=a(()=>e.disable===!0?-1:e.tabindex||0),$=a(()=>`q-${l} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(p.value===!0?` q-${l}--dark`:"")+(e.dense===!0?` q-${l}--dense`:"")+(e.leftLabel===!0?" reverse":"")),Q=a(()=>{const t=i.value===!0?"truthy":V.value===!0?"falsy":"indet",v=e.color!==void 0&&(e.keepColor===!0||(l==="toggle"?i.value===!0:V.value!==!0))?` text-${e.color}`:"";return`q-${l}__inner relative-position non-selectable q-${l}__inner--${t}${v}`}),O=a(()=>{const t={type:"checkbox"};return e.name!==void 0&&Object.assign(t,{".checked":i.value,"^checked":i.value===!0?"checked":void 0,name:e.name,value:b.value===!0?e.val:e.trueValue}),t}),T=F(O),A=a(()=>{const t={tabindex:P.value,role:l==="toggle"?"switch":"checkbox","aria-label":e.label,"aria-checked":I.value===!0?"mixed":i.value===!0?"true":"false"};return e.disable===!0&&(t["aria-disabled"]="true"),t});function x(t){t!==void 0&&(w(t),m(t)),e.disable!==!0&&s("update:modelValue",E(),t)}function E(){if(b.value===!0){if(i.value===!0){const t=e.modelValue.slice();return t.splice(_.value,1),t}return e.modelValue.concat([e.val])}if(i.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(V.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function L(t){(t.keyCode===13||t.keyCode===32)&&w(t)}function R(t){(t.keyCode===13||t.keyCode===32)&&x(t)}const j=d(i,I);return Object.assign(n,{toggle:x}),()=>{const t=j();e.disable!==!0&&T(t,"unshift",` q-${l}__native absolute q-ma-none q-pa-none`);const v=[f("div",{class:Q.value,style:B.value,"aria-hidden":"true"},t)];h.value!==null&&v.push(h.value);const q=e.label!==void 0?G(u.default,[e.label]):M(u.default);return q!==void 0&&v.push(f("div",{class:`q-${l}__label q-anchor--skip`},q)),f("div",{ref:o,class:$.value,...A.value,onClick:x,onKeydown:L,onKeyup:R},v)}}var ce=W({name:"QToggle",props:{...ue,icon:String,iconColor:String},emits:se,setup(l){function d(e,u){const s=a(()=>(e.value===!0?l.checkedIcon:u.value===!0?l.indeterminateIcon:l.uncheckedIcon)||l.icon),n=a(()=>e.value===!0?l.iconColor:null);return()=>[f("div",{class:"q-toggle__track"}),f("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},s.value!==void 0?[f(D,{name:s.value,color:n.value})]:void 0)]}return ie("toggle",d)}});const de={id:"loginPage"},me=S("p",{class:"text-center app-title"},"Mempawah App",-1),ve=S("p",{class:"text-center title"},"Login",-1),fe=S("div",{class:"tw-w-full text-center"},"atau masuk dengan akun",-1),qe={__name:"LoginPage",setup(l){const d=ae(),e=k(!1),u=k(""),s=k(""),n=ee(),r=p=>{oe.post("/auth/google/login",p).then(o=>{d.setGoogleUser(o.data),n.push({name:"map.index"})}).catch(o=>console.log(o))};return(p,o)=>{const h=te("GoogleLogin");return X(),Y("div",de,[c(le,{class:"q-pa-xl q-gutter-y-md column login-form","data-aos":"zoom-out"},{default:Z(()=>[me,ve,c(y,{modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=m=>u.value=m),type:"email",outlined:"",label:"Email"},null,8,["modelValue"]),c(y,{modelValue:s.value,"onUpdate:modelValue":o[1]||(o[1]=m=>s.value=m),outlined:"",type:"password",label:"Password"},null,8,["modelValue"]),c(ce,{modelValue:e.value,"onUpdate:modelValue":o[2]||(o[2]=m=>e.value=m),label:"Remember me"},null,8,["modelValue"]),c(C,{to:"/map",color:"primary",icon:"login",label:"Masuk",onClick:p.onClick},null,8,["onClick"]),fe,c(C,{icon:"img:./icons/bps.svg",label:"SOBAT BPS"}),c(C,{icon:"img:./icons/bps.svg",label:"SSO BPS"}),c(h,{callback:r,class:"tw-w-full"})]),_:1})])}}};export{qe as default};
